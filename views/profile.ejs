<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Chat App</title>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/profile.css">
</head>

<body>

        <input id="currentUserId" type="hidden" name="currentUserId" value="<%= currentUserId%>">


        <input id="paramUserId" type="hidden" name="paramUserId" value="<%= ParamUserId%>">

        
        <input type="hidden" id="chatId" name="chatId" value="<%= chatId %>">


        <input type="hidden" id="isOwner" name="isOwner" value="<%= isOwner %>">
        <input type="hidden" id="isFriends" name="isFriends" value="<%= isFriends %>">
        <input type="hidden" id="isRequestSent" name="isRequestSent" value="<%= isRequestSent %>">
        <input type="hidden" id="isRequestReceived" name="isRequestReceived" value="<%= isRequestReceived %>">


        <%- include('parts/nav')%>
<div class="container mt-4">
    <div class="row">
        <div class="col-sm-12">
            <div class="content social-timeline">
                <div class="row">
                    <div class="col-md-12">
                        <div class="social-wallpaper" data-owner="<%= isOwner %>">
                            <div class="profile-hvr">
                                <i class="icofont icofont-ui-edit p-r-10 cover-edit"></i>
                                <span>Change Cover Photo</span>
                                <i class="icofont icofont-ui-delete cover-delete"></i>
                            </div>
                            <input type="file" id="coverImageInput" accept="image/*" style="display: none;">
                            <div class="cover-actions">
                                <button class="btn btn-sm btn-primary cover-save">Save</button>
                                <button class="btn btn-sm btn-secondary cover-cancel">Cancel</button>
                            </div>
                        </div>
                        <div class="timeline-btn">
                            <a href="#" class="btn btn-primary">Follows</a>
                            <a href="chat.html" class="btn btn-success">Chat</a>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xl-3 col-lg-4 col-md-4 col-xs-12">
                        <div class="social-timeline-left">
                            <div class="card" data-owner="<%= isOwner %>">
                                <div class="social-profile">
                                    <!-- صورة المستخدم -->
                                    <img id="ProfileImage" class="img-fluid width-100" src="/images/shika.png" alt="User">
                                    <!-- طبقة التعديل اللي بتظهر لما تحطي الماوس -->
                                    <div class="profile-hvr m-t-15">
                                        <i class="icofont icofont-ui-edit p-r-10 profile-edit"></i>
                                        <span>Change Photo</span>
                                    </div>
                                    <!-- الإنبوت المخفي لرفع الصورة -->
                                    <input type="file" id="profileImageInput" accept="image/*" style="display: none;">
                                    <!-- أزرار Save و Cancel -->
                                    <div class="profile-actions">
                                        <button class="btn btn-sm btn-primary profile-save">Save</button>
                                        <button class="btn btn-sm btn-secondary profile-cancel">Cancel</button>
                                    </div>
                                </div>
                                <div class="card-block social-follower">
                                    <h4 id="UserName">John Doe</h4>
                                    <h5>Software Engineer</h5>

                                    <input type="hidden" id="ParamUserId" value="<%= ParamUserId %>">
                                    <input id="currentUserId" type="hidden" name="currentUserId" value="<%= currentUserId %>">
                                    <input id="CurrentUserName" type="hidden" name="CurrentUserName" value="<%= CurrentUserName %>">
                                    <input id="paramUserId" type="hidden" name="paramUserId" value="<%= ParamUserId %>">
                                    <input id="ParamUserImage" type="hidden" name="ParamUserImage" value="<%= ParamUserImage %>">
                                    <input id="ParamUserName" type="hidden" name="ParamUserName" value="<%= ParamUserName %>">
                                    <input type="hidden" id="friendStatus" value="<%=
                                        isOwner ? 'owner' :
                                        isFriends ? 'friends' : 
                                        isRequestSent ? 'requestSent' : 
                                        isRequestReceived ? 'requestReceived' : 'none'
                                    %>">

                                    <div id="friendActionContainer"></div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-header">
                                    <h5 class="card-header-text d-inline-block">Friends</h5>
                                </div>
                                <div class="card-block friend-box" id="FriendsContainer">
                                    <!-- Friends will be added here dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-9 col-lg-8 col-md-8 col-xs-12">
                        <div class="card social-tabs">
                            <ul class="nav nav-tabs md-tabs tab-timeline" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#timeline" role="tab">Timeline</a>
                                </li>
                                <!-- More tabs if needed -->
                                 
                            </ul>
                        </div>
    <form class="create-post" id="create-post-form" enctype="multipart/form-data">
    <div class="profile-photok">
      <img id="HomeImagetwo" src="" alt="User" />
    </div>
    <div class="post-input-container">
      <textarea id="post-content" placeholder="What's on your mind, John?" rows="3"></textarea>
      <div class="post-image-container" id="post-image-container" style="display: none;">
        <img id="post-image-preview" src="" alt="Post Preview" style="max-width: 100%; max-height: 200px; object-fit: cover; border-radius: 8px;" />
        <button type="button" id="remove-image-btn" class="btn btn-danger btn-sm">Remove</button>
      </div>
      <div class="post-actions">
        <label for="post-image-input" class="btn btn-outline-secondary btn-sm">
          <i class="uil uil-image-plus"></i> Add Photo
        </label>
        <input type="file" id="post-image-input" accept="image/*" style="display: none;" />
        <button type="submit" id="post-submit-btn" class="btn btn-primary">Post</button>
      </div>
    </div>
  </form>
                        <div id="feedsContainer">
                            <!-- Static content or posts could go here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    </div>


                    <script src="/socket.io/socket.io.js"></script>
                    <script src="/js/sockets/init.js"></script>
                    <script src="/js/ForFront/profile.js"></script> 



</body>

</html>
